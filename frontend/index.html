<!-- /frontend/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>EduTutor AI - Login</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>
  <script src="./firebase-app.js" defer></script>
  <script defer>
    async function handleLogin() {
      const provider = new firebase.auth.GoogleAuthProvider();
      firebase.auth().signInWithPopup(provider)
        .then(async (result) => {
          const token = await result.user.getIdToken();
          localStorage.setItem('token', token);
          localStorage.setItem('userEmail', result.user.email);
          window.location.href = "enter-api.html";
        })
        .catch(err => {
          console.error(err);
          alert("Login failed");
        });
    }
  </script>
</head>
<body class="h-screen flex items-center justify-center bg-purple-50">
  <button onclick="handleLogin()" class="bg-purple-600 text-white px-6 py-3 rounded-xl shadow hover:bg-purple-700">
    Sign in with Google
  </button>
</body>
</html>
